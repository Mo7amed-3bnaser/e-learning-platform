# خطة إكمال منصة E-Learning

## تقدير نسبة الإنجاز الحالية: **حوالي 85–90%**

المشروع فيه أساس قوي: auth، كورسات، مشاهدة، تقدم، شهادات، تقييمات، أدمن، ومدرس بإدارة كاملة لكورساته وفيديوهاته. اللي ناقص غالباً دفعات حقيقية، صفحات أخطاء، وتحسينات اختيارية.

---

## ما تم إنجازه (ملخص)

| المنطقة                   | الحالة | ملاحظات                                                                                                                   |
| ------------------------- | ------ | ------------------------------------------------------------------------------------------------------------------------- |
| **الرئيسية والكورسات**    | مكتمل  | هيرو، تصفح، بحث، فلترة حسب الفئة                                                                                          |
| **التسجيل والدخول**       | مكتمل  | register, login, profile, avatar, email verification                                                                       |
| **صفحة كورس واحد**        | مكتمل  | تفاصيل، تقييمات، زر شراء                                                                                                  |
| **الدفع (Checkout)**      | جزئي   | يعمل **Sandbox** فقط (دفع تجريبي فوري)                                                                                    |
| **كورساتي + المشاهدة**    | مكتمل  | قائمة، مشاهدة فيديو، تقدم، تعليقات، شهادة عند 100%                                                                        |
| **الشهادات**              | مكتمل  | توليد PDF، تحميل، عرض في صفحة المشاهدة                                                                                    |
| **الأدمن**                | مكتمل  | إحصائيات، طلاب، طلبات، كورسات، فيديوهات، طلبات مدربين                                                                     |
| **المدرب**                | ✅ مكتمل | إنشاء كورس، تعديل كورس، نشر/إخفاء، إدارة فيديوهات (إضافة/تعديل/حذف/ترتيب)، حذف كورس، إحصائيات                            |
| **نسيت كلمة المرور**      | مكتمل  | إرسال رابط عبر الإيميل + إعادة تعيين كلمة المرور                                                                           |
| **طلبات الشراء الحقيقية** | جزئي   | الباك اند يدعم (vodafone_cash, instapay, bank_transfer + screenshot) لكن الواجهة لا تعرض إلا Sandbox                      |

---

## الخطوات المقترحة لإكمال الموقع (حتى ~100%)

### 1) الدفع الحقيقي (أهم خطوة للإنتاج)

- **الوضع الحالي:** Front-End/src/app/checkout/[id]/page.tsx يستخدم فقط `ordersAPI.sandboxPayment(courseId)`.
- **المطلوب (اختر أحد المسارين):**
  - **أ) دفع يدوي (بدون بوابة):** في صفحة الـ Checkout إضافة خيارات (فودافون كاش / انستاباي / تحويل بنكي)، حقل رفع **صورة إثبات الدفع**، واستدعاء `ordersAPI.createOrder` بدل الـ sandbox. الأدمن يبقى يراجع ويوافق من admin/orders (الـ API موجود فعلاً في orderController.js).
  - **ب) بوابة دفع حقيقية:** دمج Stripe أو Paymob (أو غيرهما) ثم استبدال الـ Sandbox في الـ Checkout بهذه البوابة.

بدون أحد هذين المسارين، الموقع يبقى للتجربة فقط.

---

### 2) نسيت كلمة المرور / إعادة تعيينها ✅ تم

- تم تنفيذ forgot password و reset password بنجاح.

---

### 3) صفحة 404 (Not Found) ✅ تم

- تم إنشاء `app/not-found.tsx` بتصميم عربي احترافي مع رسوم متحركة وألوان متناسقة مع هوية المنصة.

---

### 4) واجهة المدرب: تعديل كورس + إدارة الفيديوهات ✅ تم

- **ما تم تنفيذه:**
  - ✅ صفحة تعديل الكورس (`dashboard/instructor/courses/[id]/edit`) — تعديل العنوان، الوصف، السعر، التصنيف، المستوى، الصورة، المتطلبات، ماذا ستتعلم
  - ✅ صفحة إدارة الفيديوهات (`dashboard/instructor/courses/[id]/videos`) — إضافة / تعديل / حذف / سحب وإفلات لتغيير الترتيب
  - ✅ نشر/إخفاء الكورس — المدرب يقدر ينشر أو يخفي كورسه بنفسه
  - ✅ حماية الصلاحيات في الباك اند — المدرب يقدر يتحكم في كورساته فقط، والأدمن في جميع الكورسات
  - ✅ زر إدارة الفيديوهات في قائمة كورسات المدرب

---

### 5) تنقية كود الإنتاج

- إزالة أي `console.log` غير ضروري (مثلاً في Front-End/src/app/courses/page.tsx عند جلب الطلبات).
- مراجعة أي تعليقات TODO/FIXME وإما تنفيذها أو إزالتها.

---

### 6) اختياري (تحسينات إضافية)

- **التحقق من الإيميل:** ✅ تم — تسجيل بحساب جديد ثم تفعيل عبر رابط إيميل.
- **SEO:** وصف وربط صفحات الكورسات والرئيسية مع `metadata` في Next.js.
- **بيئة الإنتاج:** التأكد من `NEXT_PUBLIC_API_URL` و `CLIENT_URL` وربط الدومين، وإخفاء مفاتيح الـ API.

---

## ترتيب مقترح للتنفيذ

1. **الدفع الحقيقي** (يدوي أو بوابة) حتى يصبح الموقع قابلاً للاستخدام فعلياً.
2. ~~نسيت كلمة المرور~~ ✅ + ~~صفحة 404~~ ✅ لتحسين تجربة المستخدم.
3. ~~واجهة المدرب (تعديل كورس + فيديوهات)~~ ✅
4. **تنقية الكود** ثم التحسينات الاختيارية.

بعد تنفيذ (1 + 2 ✅ + 3 ✅ + صفحة 404 ✅) يمكن اعتبار المنصة **مكتملة من ناحية الوظائف الأساسية** ونسبة الإنجاز قريبة من **95–100%** حسب ما تضفيه من اختياري.

